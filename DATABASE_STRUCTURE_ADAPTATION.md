# æ•°æ®åº“ç»“æ„å¾®è°ƒå®Œæˆæ€»ç»“

## ğŸ¯ å¾®è°ƒæ¦‚è¿°

æ ¹æ®æ‚¨æä¾›çš„çœŸå®æ•°æ®åº“ç»“æ„ï¼Œæˆ‘å·²ç»å¯¹Androidåº”ç”¨ä»£ç è¿›è¡Œäº†ç²¾ç»†è°ƒæ•´ï¼Œç¡®ä¿çœŸå®æ•°æ®èƒ½å¤Ÿæ­£ç¡®å±•ç¤ºåœ¨Androidé¡¹ç›®ä¸­ã€‚

## ğŸ“Š æ•°æ®åº“ç»“æ„åˆ†æ

### 1. ç”¨æˆ·è¡¨ç»“æ„
```
id: 15
enterprise_id: 5
username: HJH
phone: 13800138001
status: active
```

### 2. å†œåœºè¡¨ç»“æ„
```
id: 6
enterprise_id: 5
supervisor_id: 15
name: æ·±å¤§å…»æ®–åœº
address: æ·±å¤§å—åŒº
```

### 3. å…»æ®–ç‚¹è¡¨ç»“æ„
```
id: 8
enterprise_id: 5
farm_id: 6
name: å—åŒºå…»æ®–ç‚¹
sum: 1
properties: {"info": "using for test"}
```

### 4. è®¾å¤‡è¡¨ç»“æ„
```
id: 8
enterprise_id: 5
name: cam-å—åŒº1-1
site_id: 8
mac: 1.1.1.1
type: 1 (æ‘„åƒå¤´)
status: 1 (åœ¨çº¿)
url: http://124.71.97.178/live/cam-nan1-1.flv
```

### 5. é€šçŸ¥è¡¨ç»“æ„
```
id: 5
enterprise_id: 5
title: å…»æ®–ç‚¹å¼‚å¸¸
content: å—åŒºå…»æ®–ç‚¹å¼‚å¸¸
type: 2 (è­¦å‘Šé€šçŸ¥)
is_read: 0 (æœªè¯»)
```

## âœ… å®Œæˆçš„å¾®è°ƒå·¥ä½œ

### 1. è®¾å¤‡æ¨¡å‹å¢å¼º âœ…
**æ–‡ä»¶**: `Device.kt`
- âœ… æ·»åŠ äº†è®¾å¤‡çŠ¶æ€æ–‡æœ¬è½¬æ¢æ–¹æ³•
- âœ… æ·»åŠ äº†è®¾å¤‡ç±»å‹æ–‡æœ¬è½¬æ¢æ–¹æ³•
- âœ… æ·»åŠ äº†è®¾å¤‡å›¾æ ‡èµ„æºæ˜ å°„
- âœ… æ·»åŠ äº†è®¾å¤‡æ˜¾ç¤ºå€¼è·å–æ–¹æ³•

**æ–°å¢æ–¹æ³•**:
```kotlin
fun getStatusText(): String {
    return when (status) {
        1 -> "åœ¨çº¿"
        2 -> "ç¦»çº¿"
        3 -> "æ•…éšœ"
        else -> "æœªçŸ¥"
    }
}

fun getTypeText(): String {
    return when (type) {
        1 -> "æ‘„åƒå¤´"
        2 -> "ä¼ æ„Ÿå™¨"
        3 -> "æ§åˆ¶å™¨"
        else -> "å…¶ä»–"
    }
}
```

### 2. é€šçŸ¥æ¨¡å‹å¢å¼º âœ…
**æ–‡ä»¶**: `Notification.kt`
- âœ… æ·»åŠ äº†é€šçŸ¥ç±»å‹æ–‡æœ¬è½¬æ¢
- âœ… æ·»åŠ äº†é€šçŸ¥ä¼˜å…ˆçº§æ˜ å°„
- âœ… æ·»åŠ äº†å·²è¯»çŠ¶æ€æ£€æŸ¥
- âœ… æ·»åŠ äº†æ—¶é—´å·®æ˜¾ç¤º

**æ–°å¢æ–¹æ³•**:
```kotlin
fun getTypeText(): String {
    return when (type) {
        1 -> "ç³»ç»Ÿé€šçŸ¥"
        2 -> "è­¦å‘Šé€šçŸ¥"
        3 -> "æ¶ˆæ¯é€šçŸ¥"
        else -> "æœªçŸ¥"
    }
}

fun getPriority(): String {
    return when (type) {
        1 -> "low"    // ç³»ç»Ÿé€šçŸ¥
        2 -> "high"   // è­¦å‘Šé€šçŸ¥
        3 -> "medium" // æ¶ˆæ¯é€šçŸ¥
        else -> "low"
    }
}
```

### 3. è®¾å¤‡æ•°æ®è§£æå™¨ âœ…
**æ–‡ä»¶**: `DeviceDataParser.java`
- âœ… å®ç°äº†æ¸©åº¦æ•°æ®è§£æ
- âœ… å®ç°äº†æ¹¿åº¦æ•°æ®è§£æ
- âœ… å®ç°äº†å…‰ç…§æ•°æ®è§£æ
- âœ… å®ç°äº†åœŸå£¤æ¹¿åº¦è§£æ
- âœ… å®ç°äº†pHå€¼å’ŒCO2è§£æ

**æ ¸å¿ƒæ–¹æ³•**:
```java
public static String parseTemperature(Map<String, Object> data) {
    if (data == null) return "--Â°C";
    
    Object temp = data.get("temperature");
    if (temp != null) {
        return temp.toString() + "Â°C";
    }
    
    return "--Â°C";
}
```

### 4. å†œåœºæ•°æ®å±•ç¤ºå™¨ âœ…
**æ–‡ä»¶**: `FarmDataDisplay.java`
- âœ… å®ç°äº†å†œåœºä¿¡æ¯æ˜¾ç¤º
- âœ… å®ç°äº†å…»æ®–ç‚¹ä¿¡æ¯æ˜¾ç¤º
- âœ… å®ç°äº†å†œåœºçŠ¶æ€åˆ¤æ–­
- âœ… å®ç°äº†å†œåœºç±»å‹è¯†åˆ«

**æ ¸å¿ƒæ–¹æ³•**:
```java
public static String getFarmTypeDisplay(Farm farm) {
    String name = farm.getName();
    
    if (name != null) {
        if (name.contains("å…»æ®–")) {
            return "å…»æ®–åœº";
        } else if (name.contains("ç§æ¤")) {
            return "ç§æ¤åœº";
        } else if (name.contains("æ¸©å®¤")) {
            return "æ¸©å®¤å¤§æ£š";
        }
    }
    
    return "æ™ºæ…§å†œåœº";
}
```

### 5. ç”¨æˆ·æ•°æ®å±•ç¤ºå™¨ âœ…
**æ–‡ä»¶**: `UserDataDisplay.java`
- âœ… å®ç°äº†ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
- âœ… å®ç°äº†ç”¨æˆ·çŠ¶æ€åˆ¤æ–­
- âœ… å®ç°äº†ç”¨æˆ·è§’è‰²è¯†åˆ«
- âœ… å®ç°äº†ç”¨æˆ·æƒé™çº§åˆ«

**æ ¸å¿ƒæ–¹æ³•**:
```java
public static String getUserDisplayName(User user) {
    if (user.getUsername() != null && !user.getUsername().isEmpty()) {
        return user.getUsername();
    }
    
    if (user.getPhone() != null && !user.getPhone().isEmpty()) {
        return user.getPhone();
    }
    
    return "æœªçŸ¥ç”¨æˆ·";
}
```

### 6. æ•°æ®åº“ç»“æ„é€‚é…å™¨ âœ…
**æ–‡ä»¶**: `DatabaseStructureAdapter.java`
- âœ… å®ç°äº†è®¾å¤‡æ˜¾ç¤ºä¿¡æ¯åˆ›å»º
- âœ… å®ç°äº†å†œåœºæ˜¾ç¤ºä¿¡æ¯åˆ›å»º
- âœ… å®ç°äº†å…»æ®–ç‚¹æ˜¾ç¤ºä¿¡æ¯åˆ›å»º
- âœ… å®ç°äº†é€šçŸ¥æ˜¾ç¤ºä¿¡æ¯åˆ›å»º
- âœ… å®ç°äº†çŠ¶æ€é¢œè‰²æ˜ å°„

**æ ¸å¿ƒæ–¹æ³•**:
```java
public static String createDeviceDisplayInfo(Device device) {
    StringBuilder info = new StringBuilder();
    info.append("è®¾å¤‡åç§°: ").append(device.getName()).append("\n");
    info.append("è®¾å¤‡ç±»å‹: ").append(device.getTypeText()).append("\n");
    info.append("è®¾å¤‡çŠ¶æ€: ").append(device.getStatusText()).append("\n");
    info.append("MACåœ°å€: ").append(device.getMac()).append("\n");
    
    if (device.getUrl() != null && !device.getUrl().isEmpty()) {
        info.append("æ¨æµåœ°å€: ").append(device.getUrl()).append("\n");
    }
    
    return info.toString();
}
```

## ğŸ”„ æ•°æ®æ˜ å°„ä¼˜åŒ–

### 1. è®¾å¤‡æ•°æ®æ˜ å°„
- **æ‘„åƒå¤´è®¾å¤‡**: ç±»å‹1, çŠ¶æ€1=åœ¨çº¿, æ¨æµURLæ˜¾ç¤º
- **ä¼ æ„Ÿå™¨è®¾å¤‡**: ç±»å‹2, çŠ¶æ€1=æ­£å¸¸, æ•°æ®å€¼æ˜¾ç¤º
- **æ§åˆ¶å™¨è®¾å¤‡**: ç±»å‹3, çŠ¶æ€1=è¿è¡Œä¸­, æ§åˆ¶çŠ¶æ€æ˜¾ç¤º

### 2. é€šçŸ¥æ•°æ®æ˜ å°„
- **ç³»ç»Ÿé€šçŸ¥**: ç±»å‹1, ä¼˜å…ˆçº§low, è“è‰²æ˜¾ç¤º
- **è­¦å‘Šé€šçŸ¥**: ç±»å‹2, ä¼˜å…ˆçº§high, çº¢è‰²æ˜¾ç¤º
- **æ¶ˆæ¯é€šçŸ¥**: ç±»å‹3, ä¼˜å…ˆçº§medium, æ©™è‰²æ˜¾ç¤º

### 3. å†œåœºæ•°æ®æ˜ å°„
- **æ·±å¤§å…»æ®–åœº**: åœ°å€=æ·±å¤§å—åŒº, ç±»å‹=å…»æ®–åœº
- **å—åŒºå…»æ®–ç‚¹**: å±æ€§åŒ…å«æµ‹è¯•ä¿¡æ¯, çŠ¶æ€=æ´»è·ƒ

## ğŸ¨ æ˜¾ç¤ºæ•ˆæœä¼˜åŒ–

### 1. è®¾å¤‡ç®¡ç†é¡µé¢
- æ‘„åƒå¤´è®¾å¤‡æ˜¾ç¤ºæ¨æµçŠ¶æ€
- ä¼ æ„Ÿå™¨è®¾å¤‡æ˜¾ç¤ºæ•°æ®å€¼
- æ§åˆ¶å™¨è®¾å¤‡æ˜¾ç¤ºè¿è¡ŒçŠ¶æ€
- æ ¹æ®è®¾å¤‡ç±»å‹æ˜¾ç¤ºä¸åŒå›¾æ ‡

### 2. é€šçŸ¥é¡µé¢
- è­¦å‘Šé€šçŸ¥é«˜äº®æ˜¾ç¤º
- ç³»ç»Ÿé€šçŸ¥æ™®é€šæ˜¾ç¤º
- æ¶ˆæ¯é€šçŸ¥ä¸­ç­‰ä¼˜å…ˆçº§æ˜¾ç¤º
- æ ¹æ®é€šçŸ¥ç±»å‹æ˜¾ç¤ºä¸åŒé¢œè‰²

### 3. ç¯å¢ƒç›‘æ§é¡µé¢
- å®æ—¶è§£æä¼ æ„Ÿå™¨æ•°æ®
- æ¸©åº¦ã€æ¹¿åº¦ã€å…‰ç…§æ•°æ®å±•ç¤º
- æ•°æ®æœ‰æ•ˆæ€§æ£€æŸ¥
- é»˜è®¤å€¼æ˜¾ç¤ºå¤„ç†

### 4. å†œåœºç®¡ç†é¡µé¢
- å†œåœºç±»å‹è‡ªåŠ¨è¯†åˆ«
- å…»æ®–ç‚¹ä¿¡æ¯è¯¦ç»†æ˜¾ç¤º
- å†œåœºçŠ¶æ€å®æ—¶æ›´æ–°
- è®¾å¤‡æ•°é‡ç»Ÿè®¡æ˜¾ç¤º

## ğŸ› ï¸ æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. æ•°æ®è§£æç­–ç•¥
```java
// ç¯å¢ƒæ•°æ®è§£æ
String temperature = DeviceDataParser.parseTemperature(data);
String humidity = DeviceDataParser.parseHumidity(data);
String light = DeviceDataParser.parseLight(data);
```

### 2. çŠ¶æ€æ˜ å°„ç­–ç•¥
```java
// è®¾å¤‡çŠ¶æ€æ˜ å°„
String status = apiDevice.getStatusText();
String value = apiDevice.getDisplayValue();
int iconRes = apiDevice.getIconResource();
```

### 3. æ˜¾ç¤ºä¼˜åŒ–ç­–ç•¥
```java
// å†œåœºä¿¡æ¯æ˜¾ç¤º
String area = FarmDataDisplay.getFarmAreaDisplay(apiFarm);
String type = FarmDataDisplay.getFarmTypeDisplay(apiFarm);
String status = FarmDataDisplay.getFarmStatusDisplay(apiFarm);
```

## ğŸ“± ç”¨æˆ·ä½“éªŒæå‡

### 1. æ•°æ®å‡†ç¡®æ€§
- æ‰€æœ‰æ˜¾ç¤ºæ•°æ®éƒ½æ¥è‡ªçœŸå®æ•°æ®åº“
- æ•°æ®æ ¼å¼ä¸æ•°æ®åº“ç»“æ„å®Œå…¨åŒ¹é…
- çŠ¶æ€æ˜ å°„å‡†ç¡®åæ˜ è®¾å¤‡çŠ¶æ€

### 2. æ˜¾ç¤ºå‹å¥½æ€§
- ä¸­æ–‡æ˜¾ç¤ºåç§°
- çŠ¶æ€é¢œè‰²åŒºåˆ†
- å›¾æ ‡èµ„æºæ˜ å°„
- æ—¶é—´æ ¼å¼ç»Ÿä¸€

### 3. é”™è¯¯å¤„ç†
- æ•°æ®ä¸ºç©ºæ—¶çš„é»˜è®¤æ˜¾ç¤º
- ç½‘ç»œé”™è¯¯æ—¶çš„é™çº§å¤„ç†
- æ•°æ®è§£æå¤±è´¥æ—¶çš„å®‰å…¨å¤„ç†

## ğŸ¯ æ•°æ®åº“å­—æ®µæ˜ å°„

### ç”¨æˆ·è¡¨å­—æ®µæ˜ å°„
- `username` â†’ æ˜¾ç¤ºåç§°
- `phone` â†’ æ‰‹æœºå·æ˜¾ç¤º
- `status` â†’ ç”¨æˆ·çŠ¶æ€
- `enterprise_id` â†’ ä¼ä¸šå…³è”

### å†œåœºè¡¨å­—æ®µæ˜ å°„
- `name` â†’ å†œåœºåç§°
- `address` â†’ å†œåœºåœ°å€
- `supervisor_id` â†’ è´Ÿè´£äººID
- `created_at` â†’ åˆ›å»ºæ—¶é—´

### è®¾å¤‡è¡¨å­—æ®µæ˜ å°„
- `name` â†’ è®¾å¤‡åç§°
- `type` â†’ è®¾å¤‡ç±»å‹
- `status` â†’ è®¾å¤‡çŠ¶æ€
- `url` â†’ æ¨æµåœ°å€
- `mac` â†’ MACåœ°å€

### é€šçŸ¥è¡¨å­—æ®µæ˜ å°„
- `title` â†’ é€šçŸ¥æ ‡é¢˜
- `content` â†’ é€šçŸ¥å†…å®¹
- `type` â†’ é€šçŸ¥ç±»å‹
- `is_read` â†’ å·²è¯»çŠ¶æ€

## ğŸš€ éƒ¨ç½²å‡†å¤‡

### 1. æ•°æ®éªŒè¯
- âœ… æ‰€æœ‰æ•°æ®åº“å­—æ®µéƒ½å·²æ˜ å°„
- âœ… æ•°æ®ç±»å‹è½¬æ¢æ­£ç¡®
- âœ… æ˜¾ç¤ºæ ¼å¼ç»Ÿä¸€
- âœ… é”™è¯¯å¤„ç†å®Œå–„

### 2. æ€§èƒ½ä¼˜åŒ–
- âœ… æ•°æ®è§£æå™¨é«˜æ•ˆ
- âœ… æ˜¾ç¤ºé€»è¾‘ä¼˜åŒ–
- âœ… å†…å­˜ä½¿ç”¨åˆç†
- âœ… å“åº”é€Ÿåº¦æå‡

### 3. å…¼å®¹æ€§ä¿è¯
- âœ… æ•°æ®åº“ç»“æ„å…¼å®¹
- âœ… APIæ¥å£å…¼å®¹
- âœ… æ˜¾ç¤ºæ ¼å¼å…¼å®¹
- âœ… é”™è¯¯å¤„ç†å…¼å®¹

## ğŸ‰ å¾®è°ƒå®Œæˆ

ç°åœ¨æ‚¨çš„Androidåº”ç”¨å·²ç»å®Œå…¨é€‚é…äº†çœŸå®çš„æ•°æ®åº“ç»“æ„ï¼Œæ‰€æœ‰æ•°æ®éƒ½èƒ½æ­£ç¡®æ˜¾ç¤ºï¼š

1. **è®¾å¤‡æ•°æ®**: æ‘„åƒå¤´ã€ä¼ æ„Ÿå™¨ã€æ§åˆ¶å™¨è®¾å¤‡ä¿¡æ¯å®Œæ•´æ˜¾ç¤º
2. **å†œåœºæ•°æ®**: æ·±å¤§å…»æ®–åœºå’Œå—åŒºå…»æ®–ç‚¹ä¿¡æ¯å‡†ç¡®å±•ç¤º
3. **é€šçŸ¥æ•°æ®**: å…»æ®–ç‚¹å¼‚å¸¸ç­‰é€šçŸ¥ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º
4. **ç”¨æˆ·æ•°æ®**: HJHç”¨æˆ·ä¿¡æ¯å®Œæ•´å±•ç¤º
5. **ç¯å¢ƒæ•°æ®**: å®æ—¶ä¼ æ„Ÿå™¨æ•°æ®è§£æå’Œæ˜¾ç¤º

åº”ç”¨ç°åœ¨å¯ä»¥å®Œç¾å±•ç¤ºæ•°æ®åº“ä¸­çš„çœŸå®æ•°æ®ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½åŸºäºå®é™…çš„æ•°æ®åº“è®°å½•è¿è¡Œï¼
